### 如何阅读本书

在本书的课程中，我们会逐步构建一个 AngularJS。我们会完全从一块白板开始，然后在每个章节逐渐加入各种新特性。

![](/assets/structure_of_angularjs.png)

在“第一部分”，我们会从实现脏值检测和 Angular 作用域事件特性开始讲起。我们将逐渐熟悉`$watch`、`$watchCollection`、`$digest`、`$apply`、`$evalAsync`、`$emit`、`$broadcast`等 API 的内部运行原理。

在“第二部分”，我们会在原有代码的基础上增加对_表达式_的支持，表达式就是我们放在模板中的`{{ }}`花括号内部的字符串，有时表达式也会跟`$watch`一起使用。表达式看似简单，但却能让我们对包含语法分析、词法分析和抽象语法树的编程语言世界展开深入而有趣的探索。这部分的内容还包含_过滤器_，这是一个与 Angular 表达式紧密联系的特性。

在“第三部分”。我们会深入了解依赖注入。在这里，我们会接触到 Angular 中的 provider、service 和 factory 是如何实现的，还有 Angular 模块是怎样工作的。我们也会把第一部分和第二部分的代码都改进为适应依赖注入系统的形式，这样我们才能把各部分的功能组装成一个完整的框架。

在“第四部分”，我们会实现几个工具，这些工具对每个 Angular 应用来说都是很核心的：promise 工具会在`$q`服务中实现，而 HTTP 客户端会在`$http`中实现。实现这些工具，能让应用开发者能更好地对知识点进行理解，同时，这些工具也是构建指令系统的关键要素。

在最后一部分，也就是“第五部分”，我们最终会深入了解指令系统。这是本书最为高级的部分，因为该部分实现了 AngularJS 最为丰富的特性和复杂的子系统——指令编译器。我们会了解 DOM 的编译和链接、`Attributes`对象、独立作用域、控制器、transclusion 和 interpolation。在最后一章中，我们会把所有东西都打包到一起，看看 Angular 实际上是怎么启动和运行一个应用的。

虽然 Angular 中的某些功能在很大程度上是独立的，但大部分我们要写的功能都会在前面章节的基础上构建出来。这就是为什么顺着章节顺序的阅读能够帮助我们充分利用本书。

本书讲述风格简单：我们会通过“是什么”和”为什么“来对功能进行介绍。然后我们会开始利用测试驱动的开发方式来一步步实现这个功能，也就是先写一个尚未能通过的测试，然后通过编写代码让这个测试通过。最终，我们不仅会产出框架的代码，还会产出一个测试套件。

作者强烈建议你们不要只是阅读代码，最好亲自把代码敲出来，在阅读本书的同时写出自己的 Angular 框架。要验证自己是否掌握了一个概念，最好从不同的方向入手，自己写一些额外的测试用例。试着故意用其他方法使程序失效。按照自己的方式重构代码，同时也要保持测试用例能透过。

如果你只对框架中的某个部分感兴趣，可以自己挑出来看。或者你只是想参考一下 Angular 框架，将框架中的一些优秀的代码移植到自己的应用或框架，应该也不是什么难事。