### 发布-订阅式的消息传递机制
#### Publish-Subscribe Messaging

作用域事件系统实际上就是被广泛“发布-订阅”消息模式的一个实现，这个模式被广泛使用的：当发生了某个具有特定意义的事件时，可以将该信息作为事件发布到作用域中，如果应用中的其他模块_订阅_（subscribe）了这个事件，就会收到通知。发布者并不清楚有多少订阅者（如果有的话）接收到了这个事件。而订阅者也并不清楚事件是从哪里发布出来的。作用域系统在其中充当了一个中介，让发布者和订阅者实现解耦。

这种模式已经有很长的历史了，在 JavaScript 应用中也得到广泛应用。比如，jQuery 和 Backbone.js 就各自实现了一套事件系统。这两套事件系统都能实现消息的发布或订阅。

Angular 实现的“发布-订阅”消息系统与其他实现大致相同，但有一个关键的区别：Angular 事件系统是嵌入到作用域树结构中的。与所有事件流经的单一点不同，我们有一个作用域树，事件可以在其中向上和向下传播。

当你在作用域上发布一个事件，可以选择两种传播方式：向上传递或者向下传递。如果你选择向上传递，当前节点和它的父节点都会收到通知，这被称为发出事件（emitting an event）。若你选择向下传递，当前节点和它的子作用域会得到通知，这被称为广播事件（broadcasting an event）。

在本章，我们会实现这两种事件传播方式。它们实际上非常相似，我们将同时实现它们，这样更能突显两者的差异。

> 作用域事件系统仅用于处理应用程序事件，即开发人员主动发布的事件。它不会传递浏览器发起的原生 DOM 事件，比如 click 或者 resize。若要处理原生事件，我们可以使用 `angular.element`。